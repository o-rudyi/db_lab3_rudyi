SELECT b.name as battleground, sum(case when f.name = 'Alliance' then 1 else 0 end) as alliance_players FROM game_sessions gs INNER JOIN fraction_game_session fgs on gs.id = fgs.game_session_id INNER JOIN battleground_game_session bgs on gs.id = bgs.game_session_id INNER JOIN fractions f on f.id = fgs.fraction_id INNER JOIN battlegrounds b on b.id = bgs.battleground_id GROUP BY b.name
SELECT c.name as class, sum(case when cgs.id is NULL then 0 else 1 end) as number FROM classes c LEFT JOIN class_game_session cgs on c.id = cgs.class_id GROUP BY c.name
SELECT c.name as class, sum(case when cgs.id is NULL then 0 else gs.kills end)as number FROM classes c LEFT JOIN class_game_session cgs on c.id = cgs.class_id LEFT JOIN game_sessions gs on gs.id = cgs.game_session_id GROUP BY c.name